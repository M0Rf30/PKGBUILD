# Maintainer: robertfoster

pkgname=termistor-git
pkgver=r50.bc0843f
pkgrel=1
epoch=1
pkgdesc="A drop-down terminal for Wayland"
arch=('i686' 'x86_64')
url="https://github.com/giucam/termistor"
license=('GPL3')
depends=('wayland' 'libxkbcommon')
makedepends=('git' 'cmake' 'qt5-base') 
provides=("${pkgname%%-git}")
conflicts=("${pkgname%%-git}")
source=("git+${url}")

prepare() {
	cd termistor
    [[ -d build ]] || mkdir build
}

build() {
	cd termistor/build
	cmake .. -Wno-dev
	make
}

package(){
	cd termistor/build
	make DESTDIR=$pkgdir install
}

pkgver() {
	cd termistor
    printf "r%s.%s" "$(git rev-list --count HEAD)" "$(git rev-parse --short HEAD)"
}

md5sums=('SKIP')
